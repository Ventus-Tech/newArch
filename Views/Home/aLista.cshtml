@model IEnumerable<t.Models.Personas>
@{
    ViewData["Title"] = "Lista de Personas en Angular";
}
<h2>@ViewData["Title"].</h2>
<h3>@ViewData["Message"]</h3>
<div ng-controller="PeopleCtrl">

<button  ng-show="!back" ng-click="Nuevo()" 
class="btn btn-primary">Nuevo</button>
<button  ng-show="back" ng-click="Regresar()" 
class="btn btn-primary"><i class="fa fa-angle-left"></i></button>

<div class="col-md-3" ng-show="!MuestraTabla">
        <h2>Agregar</h2> 
            <form novalidate name="form"> 
                <input type="hidden" name="form" ng-model="form.IdPersona" value="0" required ng-minlength="5"> 
                 <label>Nombre</label>
                 <br/>
                <input class="form-control" type="text" ng-model="form.Nombre">
                 <span ng-model="form.Nombre"></span>
                   <br/>
                 <label >Telefono</label>  
                 <br/>
                <input class="form-control" type="tel" ng-model="form.Telefono"> 
                     <br/>
                    <label for="depos">Departamento</label>  
                 <br/>
                <select name="depos" id="depos" class="form-control" type="text" ng-model="form.IdDep" ng-options="c.IdDep as c.Descripcion for c in ListaDepos">
                     
                </select>
                 <br/>
                <input type="submit" class="btn btn-success" ng-click="Grabar(form)" ng-disabled="form.$invalid" value="Grabar"></button>
            </form> 
</div>


<table st-table="displayedCollection" st-safe-src="ListaPersonas" class="table table-striped table-responsive" 
ng-show="MuestraTabla">
    <thead>
        <tr>
        <th st-sort="IdPersona">ID Persona</th>
		<th st-sort="Nombre">Nombre</th>
		<th st-sort="Telefono">Telefono</th>
		<th st-sort="IdDep">Id Departamento</th>
		 
        <th>Editar</th>
        <th>Borrar</th>
        </tr>
    </thead>
    <tbody> 
    <tr ng-repeat="row in ListaPersonas">
      <td>{{row.IdPersona}}</td> 
		<td>{{row.Nombre}}</td>
		<td>{{row.Telefono}}</td>
		<td>{{row.IdDep}}</td>
        <td>
            <button ng-click="Editar(row)" class="btn btn-sm btn-primary">
                <i class="glyphicon glyphicon-edit"></i>
                </button>
        </td>
        <td>
            <button ng-click="Borrar(row)" class="btn btn-sm btn-danger">
                <i class="glyphicon glyphicon-remove-circle"></i>
            </button>
        </td>
    </tr> 
    
    </tbody> 
</table> 
</div>
     